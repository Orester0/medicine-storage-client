<div class="notification-container position-relative">
  <button 
    [@blink]="hasIssues.toString()" 
    class="btn position-absolute top-0 end-0 p-2 rounded-circle d-flex justify-content-center align-items-center notification-btn"
    (click)="toggleNotifications()">
    <mat-icon class="fs-4">notifications_active</mat-icon> 
  </button>

  <div *ngIf="isOpen" [@togglePanel] class="notification-panel p-3 bg-light border rounded">
    <div *ngIf="medicinesNeedingTender.length > 0">
      <h3 class="mb-3"><mat-icon>local_shipping</mat-icon> Expecting Tender</h3>
      <div *ngFor="let medicine of medicinesNeedingTender" class="d-flex justify-content-between align-items-center mb-2">
        <div>
          <span class="d-block fw-medium">{{ medicine.id }} - {{ medicine | medicineName }}</span>
          <small class="text-muted">Required Quantity: {{ medicine.minimumStock }} (has {{ medicine.stock }})</small>
        </div>
      </div>
    </div>

    <div *ngIf="medicinesNeedingAudit.length > 0">
      <h3 class="mb-3"><mat-icon>assignment</mat-icon> Expecting Audit</h3>
      <div *ngFor="let medicine of medicinesNeedingAudit" class="d-flex justify-content-between align-items-center mb-2">
        <div>
          <span class="d-block fw-medium">{{ medicine.id }} - {{ medicine | medicineName }}</span>
          <small class="text-muted">Last Audit: {{ medicine.lastAuditDate | date: 'dd/MM/yyyy' }}</small>
        </div>
      </div>
    </div>
  </div>
</div>